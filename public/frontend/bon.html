<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/x-icon" href="../Style/Images/LOGO.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../Style/stylesheet_bon.css">
  <title>Bon Printen</title>
</head>
<body>
  <div class="LOGO">
    <img src="Style/Images/HR.png" alt="LOGO" width="150" height="150">
  </div>
    
  <div class="wacht">
    <h1 style="font-family:sans-serif" id="scanStatus">Uw geld wordt opgehaald, een ogenblik geduld...</h1>
  </div>

  <div class="bon">
    <h1 style="font-family:sans-serif">Wilt u de bon erbij?</h1>
  </div>

  <div class="ja" onclick="verzendOpdracht()">
    <h1 style="font-family:sans-serif">Ja</h1>
  </div>

  <a href="totziens.html">
    <div class="nee">
      <h1 style="font-family:sans-serif">Nee</h1>
    </div>
  </a>

  <script>
    // Maak een nieuwe WebSocket verbinding
    const socket = new WebSocket('ws://145.24.223.208:8081');

    socket.onopen = function() {
      console.log('WebSocket is connected.');
    };

    socket.onmessage = function(event) {
      console.log('Message from server:', event.data);
    };

    socket.onclose = function() {
      console.log('WebSocket is closed now.');
    };

    socket.onerror = function(error) {
      console.log('WebSocket Error: ', error);
    };
    
    function verzendOpdracht(){
      if (socket.readyState === WebSocket.OPEN) {
        socket.send('printBon');  // Stuur een bericht naar de server om de bon te printen
        console.log('Printopdracht verzonden naar server.');
      } else {
        console.log('WebSocket is niet verbonden.');
      }}
    
  </script>
</body>
</html>
